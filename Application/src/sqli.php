<!DOCTYPE html>
<center>
<?php
/* Buggy script coded by Eagle Eye */
include("config.php");
if(isset($_GET['product_id'])) // when this request exists , it will go for product details 
{
  $id = $_GET['product_id'];
  //$filter = $mysqli->real_escape_string($id);
  $sql = "Select * from products where id='$id'";
  $result = $mysqli -> query($sql);// or die($mysqli -> error);
  $row = $result -> fetch_assoc();
  echo "Nama produk: " . $row['product_name'] . "<br><br>Product Descriptions: <br>" . $row['product_desc'] . "<br><br>Harga: RM" . $row['product_prices'];
  $result -> free_result();
  historyBack();
}
else
{
  $sql = "Select * from products"; // it will list as shown
  $result = $mysqli -> query($sql) or die($mysqli -> error);
    while($row = $result -> fetch_assoc())
   {
     echo "Nama produk: " . $row['product_name'] . "<br><br>Product Descriptions: <br>" . $row['product_desc'] . "<br><br>Harga: RM" . $row['product_prices'];
     echo "<br><a href='".$_SERVER['PHP_SELF'] . "?product_id=" . $row['id'] ."'>View</a><br>---------------------------------------------------------------<br>";
   }
} 
?>
